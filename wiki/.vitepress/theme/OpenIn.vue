<script setup lang="ts">
import { computed } from 'vue'

const { platform, template: file } = defineProps<{
  platform: 'overleaf' | 'texpage'
  template: string // without `.zip`
}>()

const href = computed(() => {
  const url = `https://github.com/BITNP/BIThesis/releases/latest/download/${file}.zip`
  switch (platform) {
    case 'overleaf':
      return `https://cn.overleaf.com/docs?engine=xelatex&snip_uri=${url}`
    case 'texpage':
      return `https://www.texpage.com/console/new?compiler=xelatex&zip_url=${url}`
    default:
      const exhaustCheck: never = platform
      return exhaustCheck
  }
})

const icon = computed(() => {
  switch (platform) {
    case 'overleaf':
      return 'https://img.shields.io/badge/open%20in-Overleaf-46a247?logo=overleaf&logoColor=white&labelColor=2b2b2b'
    case 'texpage':
      // TeXPage logo: https://static.texpage.com/dist/imgs/favicon.png
      return 'https://img.shields.io/badge/open_in-TeXPage-495a80?labelColor=white&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAACXBIWXMAAC4jAAAuIwF4pT92AAALImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDMtMjNUMjE6MzA6MzMrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDUtMTNUMTU6NTk6MTkrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA1LTEzVDE1OjU5OjE5KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowY2U4YTM2NC1mNTQ2LTQxMjAtOTA0YS00NzMzOWIyNDgxYzUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1Y2ZmMjBiNC04ZDNlLWQ3NDUtYjBkNy1mMzdhNzgzZjQzMTMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NmQyOWI1OS00ZTZlLTQ5NzItYmIzNy1jOWJmODFlNDRjYzQiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgdGlmZjpPcmllbnRhdGlvbj0iMSIgdGlmZjpYUmVzb2x1dGlvbj0iMzAwMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iMzAwMDAwMC8xMDAwMCIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIgZXhpZjpDb2xvclNwYWNlPSIxIiBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDE2IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iOTAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg2ZDI5YjU5LTRlNmUtNDk3Mi1iYjM3LWM5YmY4MWU0NGNjNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMy0yM1QyMTozMDozMyswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA4NTA3MTU0LTI3Y2YtNGZkNy05YjhhLTM5NDlhMjQwNmI4NyIgc3RFdnQ6d2hlbj0iMjAyMC0wMy0yM1QyMjo0MjowNSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg3M2Q2ZjcxLTFmNDEtNGM2OC1iNmI1LTNhNmU1ZTFlZmNjOCIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xM1QxNTo1OToxOSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjBjZThhMzY0LWY1NDYtNDEyMC05MDRhLTQ3MzM5YjI0ODFjNSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xM1QxNTo1OToxOSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg3M2Q2ZjcxLTFmNDEtNGM2OC1iNmI1LTNhNmU1ZTFlZmNjOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4NmQyOWI1OS00ZTZlLTQ5NzItYmIzNy1jOWJmODFlNDRjYzQiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NmQyOWI1OS00ZTZlLTQ5NzItYmIzNy1jOWJmODFlNDRjYzQiLz4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJUIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJUIi8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4AbPqHAAAENklEQVR42u2de0yNYRzHf7kcZa5hI7lXGuMfbCczwx+NGKXCztFyn8UYoyapI6RibpOZywi5dA7RaK2Z+zgjbDZWCqGwIcKU4/rH732Oydp7ktN5z3m+33++O+/enWf7vZ/zPM/7vs95vl4TwgwGUwo5KJ2OPTxc8SnsISPZ/fz+PA9yjj59Yq+sZL97hz3vDPuZ0+w2m9o3eTkGQMRU9swM9oAAXAQtq7ycPSGB/dSpRgLQshV72gb2+HgU1Z2VmcmeuJr9+zcVADIycOE9GQTRM/wFQFQUu9mMYnmyoqPZLRYFADFpe/SI3d8fRfJkVSmTx/4DFACMM/nAkcMojkyKiVEAEF2+GAIgOXRSDAEVT/hAn74oikx6WqEAUFfLB9p4oygyyWZTAPj5E8WQUwAAAAAAAOACAFbWLJw7+SFRSIcR3QdXE3kXeA/SFXp+wevC6h7YxhPd+HDr1X1fok0dd+/PD5IIgKGpwRN7pRKlD1tjmPMDv8C4Ywm9dj4mqjhSOfrtIQkAGHVxeGCggSjx8zKTIQgApLXdajr6kOja2OKysqMAAAAAAFb5qyehVSuISqxll54Nb3q7k8JDbSEz1M87e7pId+N409sL1geO6V1MFNC9X1HPzQCg0QCIC7Frb3Z0UUnT2y04l5OTYlI/L2yi0bjW1PT24ubHmkOD1cGTDgBHCyMLADvS99zMW0BUePXy9nt+AMCuE9a8HxetRNnrLDFXCt0PgNg1UYdHjyearo9oMVbffKB7DAD/u2tsbgBcNdQBAAAAAAAAAAAAAAAAAAAAoD0AMlqu/h5znmhI/qDj/a85/0K4CgBH2xVPPJfMTeq2r50EAKjdH7+b9T71YzyR8fWi0i1t3R+AnG5ZA5d/Jup8sFNy+0znP+/QPAD1hwLxzLx2Qa3vFytRTsrJyZeuE91LLjn3PNn9ARCvv41rI/PHjCTy2eNT3Ub/+x2Hq7p+lwPQ3HIVAFoXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQLNLrKiJOBC2Xl9O1CXJ17/jrsZ/j9q/dIXEGr3G6u366sqaOKK82QVJ1oD/v6JJWgDU1tRpTc5a0ygtAI523VqTuwwlmgdgX+3m7EU6Ir8LPVp1TdR+QV+Me/ntTRrRPJ8VsVk2AKCZOYCzhTkAhLsAyG0B+FDDH9t3QElkkn2z6NJSPhCEjdukkn27eARGyCl7YAQiY+SUPTIGoVFySYRGDQisFxsXPY099wSK5MmaNp3dnNtAcKSIiF2J4EiP0iblbUp8Q8GRQiI6dttW9sWLUTx3VtZO9qXL2FWjY+srUrk7SN/IjvBobUuER69axW6xNHSm17/Fx4u5QoQSHz9M2c+7p7LbbWvExztVX5XXTFUv2G8Xs4v4eHMuu3p8/C/Eh7cxpUB7HAAAAABJRU5ErkJggg=='
    default:
      const exhaustCheck: never = platform
      return exhaustCheck
  }
})
</script>

<template>
  <a :href="href" :title="`open ${template} in ${platform}`" target="_blank" rel="noreferrer"
    ><img :src="icon" :alt="`open in ${platform}`" loading="lazy"
  /></a>
</template>
