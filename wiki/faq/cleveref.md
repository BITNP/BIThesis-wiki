---
tag:
  - package
  - text
  - bithesis
---

# å¦‚ä½•ä½¿ç”¨ cleveref äº¤å‰å¼•ç”¨ï¼Ÿ

<!-- https://github.com/BITNP/BIThesis/issues/593 -->

::: warning ä¸ TeX Live 2024 ä¸å…¼å®¹

ç”±äº [LaTeX å†…æ ¸æ–¹é¢çš„é—®é¢˜](https://github.com/CTeX-org/ctex-kit/issues/725)ï¼Œåœ¨ç‰¹å®šç‰ˆæœ¬çš„ TeX Live 2024 ä¸Šï¼Œcleveref ä¸ ctex ä¸å…¼å®¹ï¼Œæ— æ³•ä½¿ç”¨ã€‚

æ‚¨å¯è€ƒè™‘æ¢ç”¨ hyperref æä¾›çš„`\autoref`ï¼Œè¯¦è§[`\autoref`ä¸­æ–‡å¼•ç”¨åç§°](./autoref-name.md)ï¼›åªä¸è¿‡`\autoref`åŠŸèƒ½ç•¥å°‘ï¼Œæ¯”å¦‚ä¸æ”¯æŒåœ¨åŒä¸€å¤„å¼•ç”¨å¤šé¡¹ã€‚
:::

## ä½¿ç”¨æ–¹æ³•

1. åœ¨å¯¼è¨€åŒº**å¯¼å…¥[[pkg:cleveref]]**

   ```latex
   \usepackage{cleveref}
   ```

   ä¸€èˆ¬è¦åœ¨å…¶ä¹‹å‰å¯¼å…¥[[pkg:hyperref]]ï¼›ä¸è¿‡å¯¹äº[[pkg:bithesis]]ï¼Œæ¨¡æ¿å·²åœ¨æœ€å¼€å§‹`\documentclass`å¤„è‡ªåŠ¨å¯¼å…¥ï¼Œæ— éœ€é‡å¤ã€‚

2. **ç”¨`\label{â€¦}`æ ‡è®°**è¦å¼•ç”¨çš„å†…å®¹

   <!-- å¤åˆ¶ lshort-zh-cn -->
   - ç« èŠ‚æ ‡é¢˜ï¼šåœ¨ç« èŠ‚æ ‡é¢˜å‘½ä»¤`\section`ç­‰ä¹‹åç´§æ¥ç€ä½¿ç”¨ã€‚
   - å›¾è¡¨æ ‡é¢˜ï¼šåœ¨å›¾è¡¨æ ‡é¢˜å‘½ä»¤`\caption`ä¹‹åç´§æ¥ç€ä½¿ç”¨ã€‚
   - è¡Œé—´å…¬å¼ï¼šå•è¡Œå…¬å¼åœ¨å…¬å¼å†…ä»»æ„ä½ç½®ä½¿ç”¨ï¼›å¤šè¡Œå…¬å¼åœ¨æ¯ä¸€è¡Œå…¬å¼çš„ä»»æ„ä½ç½®ä½¿ç”¨ã€‚
   - æœ‰åºåˆ—è¡¨ï¼šåœ¨`enumerate`ç¯å¢ƒçš„æ¯ä¸ª`\item`å‘½ä»¤ä¹‹åã€ä¸‹ä¸€ä¸ª`\item`å‘½ä»¤ä¹‹å‰ä»»æ„ä½ç½®ä½¿ç”¨ã€‚
   - å®šç†ç¯å¢ƒï¼šåœ¨å®šç†ç¯å¢ƒå†…éƒ¨ä»»æ„ä½ç½®ä½¿ç”¨ã€‚

   ```latex
   \section{ç« èŠ‚æ ‡é¢˜} \label{sec:intro} % [!code highlight]

   \begin{figure}[h]
     â€¦â€¦
     \caption{å›¾è¡¨æ ‡é¢˜} \label{fig:example} % [!code highlight]
   \end{figure}

   \begin{equation} \label{eq:total} % [!code highlight]
     \sum_n a_n
   \end{equation}
   ```

3. **ç”¨`\cref{â€¦}`å¼•ç”¨**

   ```latex
   ç”±\cref{sec:intro}çš„\cref{fig:param}ã€\cref{fig:result} å¯éªŒè¯\cref{eq:total}ã€‚
   ```

   ä»¥ä¸Šä»£ç çš„ç»“æœç±»ä¼¼`ç”±ç¬¬ 1.2 èŠ‚çš„å›¾ 3-4ã€å›¾ 3-5 å¯éªŒè¯å¼ï¼ˆ6-7ï¼‰ã€‚`ï¼Œå…¶ä¸­ç¼–å·ä¼šæ ¹æ®å‰åé¡ºåºã€æ¨¡æ¿ç±»å‹ï¼ˆæœ¬ç§‘æˆ–ç¡•åšï¼‰è‡ªåŠ¨è®¾ç½®ã€‚

   ::: tip ğŸ” æ•°å­—ä¸æ±‰å­—é—´çš„ç©ºç™½
   [[pkg:ctex]]ä¼šè‡ªåŠ¨åœ¨æ•°å­—ä¸æ±‰å­—é—´åŠ äº›è®¸ç©ºç™½ï¼Œä½†`å›¾ 3-5 å¯éªŒè¯`çš„`5 å¯`ä½äºå®çš„è¾¹ç•Œå¤„ï¼Œä¸ä¼šè‡ªåŠ¨åŠ ã€‚å¦‚æœæ‚¨ä»‹æ„è¿™ä¸€ç‚¹ï¼Œå»ºè®®æ‰‹åŠ¨ç©ºä¸€æ ¼ã€‚
   :::

## åœ¨åŒä¸€å¤„å¼•ç”¨å¤šé¡¹

```latex
\cref{eq:1,eq:2}  % å¼ï¼ˆ1ï¼‰å’Œï¼ˆ2ï¼‰
\cref{eq:1,eq:3,eq:4}  % å¼ï¼ˆ1ï¼‰ã€ï¼ˆ3ï¼‰å’Œï¼ˆ4ï¼‰

% å¤šä¸ªå¼•ç”¨æ°å¥½è¿ç»­æ—¶ï¼Œä¼šè‡ªåŠ¨ç¼©å†™
\cref{eq:1,eq:2,eq:3}  % å¼ï¼ˆ1ï¼‰è‡³ï¼ˆ3ï¼‰
```

## æ›´æ”¹å¼•ç”¨æ ¼å¼ {#customize}

å¯ä»¥å‚è€ƒ[[texdoc:cleveref]]æ›´æ”¹å¼•ç”¨æ ¼å¼ï¼Œä¸‹åˆ—å‡ ä¾‹ã€‚

åœ¨è‹±æ–‡æ¨¡å¼ä¸‹æ›´æ¢ç”¨è¯ï¼š

```latex
\usepackage{cleveref}
\crefname{equation}{formula}{formulae}
```

å®Œå…¨é‡ç½®æ ¼å¼ï¼Œå°† equation å…¨å®½æ‹¬å·æ¢æˆ ASCII æ‹¬å·ï¼š

```latex
\usepackage{cleveref}
\crefformat{equation}{å¼~#2(#1)#3}
\crefrangeformat{equation}{å¼~#3(#1)#4 è‡³~#5(#2)#6}
\crefmultiformat{equation}{å¼~#2(#1)#3}{å’Œ~#2(#1)#3}{ã€#2(#1)#3}{å’Œ~#2(#1)#3}
```
